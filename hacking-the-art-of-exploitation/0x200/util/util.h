/** 
 * This file contains those functions that are useful for all codes 
 * written in this chapter.
 * 
 * This is limited only to the chapter, so, functions written here 
 * could be cloned to the others.
 **/

void fatal_error(char *error_message){
	char final_message[100];
	strcpy(final_message, "[FATAL] ");
	strncat(final_message, error_message, (strlen(error_message) + 8));
	perror(final_message);
	exit(-1);
}

void * checked_malloc(int bytes){
	void *allocated = malloc(bytes);
	if(allocated == NULL){
		fatal_error("in checked_malloc on memory allocation");
		exit(-1);
	}

	return allocated;
}
