#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int authenticate(char *password)
{
	char password_buffer[16] = {"a"};
	int is_authenticated = 0;

	printf("[DEBUG] is_authenticated @ %p \n", &is_authenticated);
	printf("[DEBUG] password_buffer @ %p \n", password_buffer);

	strcpy(password_buffer, password);

	if(strcmp(password_buffer, "stanley") == 0)
		is_authenticated = 1;
	else if(strcmp(password_buffer, "bella") == 0)
		is_authenticated = 1;

	return is_authenticated;
}

int main(int argc, char *argv[])
{
	if(argc < 2)
	{
		printf("Usage: %s <password> \n", argv[0]);
		exit(0);
	}

	if(authenticate(argv[1]))
		printf("[OK] Access granted. \n");
	else
		printf("[ERROR] Access denied. \n");

	return 0;
}
